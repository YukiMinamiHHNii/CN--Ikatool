(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{126:function(e,t,a){e.exports=a(244)},209:function(e,t){},211:function(e,t){},243:function(e,t,a){},244:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(32),l=a.n(c),s=a(3),o=a(4),i=a(6),u=a(5),m=a(7),p=a(118),h=a.n(p),d=a(23),f=a(37),E=(a(133),a(266)),g="/",b="/home",v="/access-control",O=a(248),j=a(249),y=a(250),N=a(251),S=a(252),I=a(253),k=a(48),w=a.n(k).a.initializeApp({apiKey:"AIzaSyA4t9p81V43G6F57duOM6co8-3umQTOwb0",authDomain:"cn-marina-f3119.firebaseapp.com",databaseURL:"https://cn-marina-f3119.firebaseio.com",projectId:"cn-marina-f3119",storageBucket:"cn-marina-f3119.appspot.com",messagingSenderId:"648613735624"}),C=(a(63),a(12)),x=a(84),R=a(119),W=a.n(R),D=(a(113),a(245),function(e){return w.firestore().collection(e).get().then(function(e){return Object(x.getMultiResult)(e)}).then(function(e){return e}).catch(function(e){return Promise.reject({error:"Backend - ".concat(e)})})}),M=function(e,t){return w.firestore().collection(e).doc(t).get().then(function(e){return Object(x.getSingleResult)(e)}).then(function(e){return e}).catch(function(e){return Promise.reject("Backend - ".concat(e))})},A=function(e,t){return P(e,t).then(function(e){return T(e,t)}).catch(function(e){return Promise.reject("Backend - ".concat(e))})},U=function(e,t,a){return P(e.profile,t).then(function(e){return G(t,a,{profile:e})}).catch(function(e){return Promise.reject("Backend - ".concat(e))})};function P(e,t){var a=[];return Object.keys(e).forEach(function(n){e[n]instanceof File&&a.push(w.storage().ref(t).child(W()("md5").update(e[n].name).digest("hex")).put(e[n]).then(function(e){return t=e.metadata.fullPath,w.storage().ref(t).getDownloadURL().then(function(e){return e}).catch(function(e){return e.code});var t}).then(function(t){return e[n]=t,t}).catch(function(t){return"Backend - Error while uploading ".concat(e[n]," (").concat(t,")")}))}),Promise.all(a).then(function(t){return e}).catch(function(e){return e})}var T=function(e,t){return w.firestore().collection(t).add(e).then(function(e){return{docId:e.id}}).catch(function(e){return Promise.reject("Backend - ".concat(e))})},G=function(e,t,a){return w.firestore().collection(e).doc(t).set(a,{merge:!0}).then(function(){return Object(C.a)({},a,{docId:t})}).catch(function(e){return Promise.reject("Backend - ".concat(e))})},B=function(e,t,a){return w.firestore().collection(e).doc(t).update(a).then(function(){return Object(C.a)({},a,{docId:t})}).catch(function(e){return Promise.reject({error:"Backend - ".concat(e)})})},F=r.a.createContext(),L={userId:null,profile:{username:null,avatar:null,favoriteWeapon:null,favoriteStage:null},permissions:[]},z=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state=L,a.updateSession=function(e){var t=Object.assign({},a.state,e);return localStorage.setItem("session",JSON.stringify(t)),a.setState(Object(C.a)({},t))},a.clearSession=function(){localStorage.clear(),a.setState(L)},a.initSession=function(e){return M("users",e.email).then(function(e){return a.updateSession({userId:e.docId,profile:e.profile,permissions:e.permissions})}).catch(function(e){a.clearSession()})},a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.listener=w.auth().onAuthStateChanged(function(t){return t?e.initSession(t):e.clearSession})}},{key:"componentWillUnmount",value:function(){this.listener()}},{key:"render",value:function(){return r.a.createElement(F.Provider,{value:{session:this.state,updateSession:this.updateSession,clearSession:this.clearSession,initSession:this.initSession}},this.props.children)}}]),t}(r.a.Component),J=a(267),V=a(246),q=a(247),K=function(e){var t=function(t){function a(){var e,t;Object(s.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(t=Object(i.a)(this,(e=Object(u.a)(a)).call.apply(e,[this].concat(r)))).findOperation=function(e){return e.findIndex(function(e){return e.docId===t.props.operation})>-1},t}return Object(m.a)(a,t),Object(o.a)(a,[{key:"checkOperation",value:function(){return this.findOperation(this.context.session.permissions)?r.a.createElement(e,this.props):null}},{key:"render",value:function(){var e=this;return r.a.createElement(F.Consumer,null,function(t){t.session;return e.checkOperation()})}}]),a}(r.a.Component);return t.contextType=F,t},Q=K(function(e){return r.a.createElement(J.a,{nav:!0,inNavbar:!0},r.a.createElement(V.a,{nav:!0,caret:!0},e.title),r.a.createElement(q.a,{right:!0},e.children))}),Y=K(function(e){return r.a.createElement(d.b,{className:"dropdown-item",to:e.route},e.title)}),$=K(function(e){return r.a.createElement(d.b,{className:"nav-link",to:e.route},e.title)}),H=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={isOpen:!1},a.toggle=function(){a.setState({isOpen:!a.state.isOpen})},a.signOut=function(){w.auth().signOut().then(function(){return a.context.clearSession()}).then(function(){return a.props.history.push(g)})},a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement(F.Consumer,null,function(t){var a=t.session;t.updateSession,t.clearSession;return r.a.createElement(O.a,{className:"second-color",expand:"md"},r.a.createElement(d.b,{to:b,className:"navbar-brand"},"CN--Pearl"),r.a.createElement(j.a,{onClick:e.toggle}),r.a.createElement(y.a,{isOpen:e.state.isOpen,navbar:!0},a.userId?r.a.createElement(Z,{name:a.profile.username,permissions:a.permissions,signOut:e.signOut}):r.a.createElement(X,null)))})}}]),t}(r.a.Component),X=function(){return r.a.createElement(N.a,{className:"ml-auto",navbar:!0},r.a.createElement(S.a,null,r.a.createElement(d.b,{to:"/login",className:"nav-link"},"Login")))},Z=function(e){return r.a.createElement(N.a,{className:"ml-auto",navbar:!0},r.a.createElement(S.a,null,r.a.createElement(d.b,{to:b,className:"nav-link"},e.name)),r.a.createElement(Q,{title:"Management",operation:"MOD-002"},r.a.createElement(Y,{title:"Weapon Classes",permissions:e.permissions,operation:"MGT-001",route:"/manage/classes"}),r.a.createElement(Y,{title:"Game Modes",operation:"MGT-002",route:"/manage/modes"}),r.a.createElement(Y,{title:"Special Weapons",operation:"MGT-003",route:"/manage/specials"}),r.a.createElement(Y,{title:"Stages",operation:"MGT-004",route:"/manage/stages"}),r.a.createElement(Y,{title:"Sub Weapons",operation:"MGT-005",route:"/manage/subs"}),r.a.createElement(Y,{title:"Weapons",operation:"MGT-006",route:"/manage/weapons"}),r.a.createElement(Y,{title:"Weapon Weights",operation:"MGT-007",route:"/manage/weights"})),r.a.createElement(S.a,null,r.a.createElement($,{title:"Users and Access Control",operation:"MOD-003",route:v})),r.a.createElement(S.a,null,r.a.createElement(I.a,{onClick:e.signOut},"Sign out")))};H.contextType=F;var _=Object(f.e)(H),ee=a(265),te=a(121),ae=a(268),ne=a(16),re=a(254),ce=a(255),le=a(256),se=a(257),oe=a(258),ie=a(259),ue=a(260),me=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={splatnetID:"",name:"",thumbnail:""},a.saveStage=function(){A(a.state,"stage").then(function(e){return a.props.getResult({result:"Stage data added successfully",error:null,docId:e.docId})}).catch(function(e){return a.props.getResult({result:null,error:e,docId:null})}),a.props.hide()},a.input=function(e){a.setState(Object(ne.a)({},e.target.name,"thumbnail"!==e.target.name?e.target.value:e.target.files[0]))},a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return r.a.createElement("section",null,r.a.createElement(re.a,{className:"second-color"},this.props.title),r.a.createElement(ce.a,null,r.a.createElement(le.a,null,r.a.createElement(se.a,{className:"mb-3"},r.a.createElement(oe.a,{for:"splatnetID",className:"col-sm-12 text-left"},"SplatNetID"),r.a.createElement(ie.a,{type:"text",name:"splatnetID",placeholder:"Enter SplatNetID",onChange:this.input})),r.a.createElement(se.a,{className:"mb-3"},r.a.createElement(oe.a,{for:"name",className:"col-sm-12 text-left"},"Stage name"),r.a.createElement(ie.a,{type:"text",name:"name",placeholder:"Enter Stage name",onChange:this.input})),r.a.createElement(se.a,{className:"mb-3"},r.a.createElement(oe.a,{for:"thumbnail",className:"col-sm-12 text-left"},"Thumbnail"),r.a.createElement(ie.a,{type:"file",name:"thumbnail",onChange:this.input})))),r.a.createElement(ue.a,null,r.a.createElement(te.a,{className:"pad-btn",onClick:this.saveStage},"Save"),r.a.createElement(te.a,{className:"pad-btn",onClick:this.props.hide},"Cancel")))}}]),t}(r.a.Component),pe=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={name:""},a.saveClass=function(){A(a.state,"class").then(function(e){return a.props.getResult({result:"Weapon class data added successfully",error:null,docId:e.docId})}).catch(function(e){return a.props.getResult({result:null,error:e,docId:null})}),a.props.hide()},a.input=function(e){a.setState(Object(ne.a)({},e.target.name,e.target.value))},a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return r.a.createElement("section",null,r.a.createElement(re.a,{className:"second-color"},this.props.title),r.a.createElement(ce.a,null,r.a.createElement(le.a,null,r.a.createElement(se.a,{className:"mb-3"},r.a.createElement(oe.a,{for:"name",className:"col-sm-12 text-left"},"Class name"),r.a.createElement(ie.a,{type:"text",name:"name",placeholder:"Enter class name",onChange:this.input})))),r.a.createElement(ue.a,null,r.a.createElement(te.a,{className:"pad-btn",onClick:this.saveClass},"Save"),r.a.createElement(te.a,{className:"pad-btn",onClick:this.props.hide},"Cancel")))}}]),t}(r.a.Component),he=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={gameModeID:"",name:"",thumbnail:""},a.saveGameMode=function(){A(a.state,"mode").then(function(e){return a.props.getResult({result:"Game mode data added successfully",error:null,docId:e.docId})}).catch(function(e){return a.props.getResult({result:null,error:e,docId:null})}),a.props.hide()},a.input=function(e){a.setState(Object(ne.a)({},e.target.name,"thumbnail"!==e.target.name?e.target.value:e.target.files[0]))},a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return r.a.createElement("section",null,r.a.createElement(re.a,{className:"second-color"},this.props.title),r.a.createElement(ce.a,null,r.a.createElement(le.a,null,r.a.createElement(se.a,{className:"mb-3"},r.a.createElement(oe.a,{for:"gameModeID",className:"col-sm-12 text-left"},"GameModeID"),r.a.createElement(ie.a,{type:"text",name:"gameModeID",placeholder:"Enter GameModeID",onChange:this.input})),r.a.createElement(se.a,{className:"mb-3"},r.a.createElement(oe.a,{for:"name",className:"col-sm-12 text-left"},"Name"),r.a.createElement(ie.a,{type:"text",name:"name",placeholder:"Enter game mode name",onChange:this.input})),r.a.createElement(se.a,{className:"mb-3"},r.a.createElement(oe.a,{for:"thumbnail",className:"col-sm-12 text-left"},"Thumbnail"),r.a.createElement(ie.a,{type:"file",name:"thumbnail",onChange:this.input})))),r.a.createElement(ue.a,null,r.a.createElement(te.a,{className:"pad-btn",onClick:this.saveGameMode},"Save"),r.a.createElement(te.a,{className:"pad-btn",onClick:this.props.hide},"Cancel")))}}]),t}(r.a.Component),de=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={specialWeaponID:"",name:"",icon:"",altIcon:""},a.saveSpecialWeapon=function(){A(a.state,"special").then(function(e){return a.props.getResult({result:"Special Weapon data added successfully",error:null,docId:e.docId})}).catch(function(e){return a.props.getResult({result:null,error:e,docId:null})}),a.props.hide()},a.input=function(e){a.setState(Object(ne.a)({},e.target.name,"icon"!==e.target.name&&"altIcon"!==e.target.name?e.target.value:e.target.files[0]))},a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return r.a.createElement("section",null,r.a.createElement(re.a,{className:"second-color"},this.props.title),r.a.createElement(ce.a,null,r.a.createElement(le.a,null,r.a.createElement(se.a,{className:"mb-3"},r.a.createElement(oe.a,{for:"specialWeaponID",className:"col-sm-12 text-left"},"SpecialWeaponID"),r.a.createElement(ie.a,{type:"text",name:"specialWeaponID",placeholder:"Enter specialWeaponID",onChange:this.input})),r.a.createElement(se.a,{className:"mb-3"},r.a.createElement(oe.a,{for:"name",className:"col-sm-12 text-left"},"Name"),r.a.createElement(ie.a,{type:"text",name:"name",placeholder:"Enter special weapon name",onChange:this.input})),r.a.createElement(se.a,{className:"mb-3"},r.a.createElement(oe.a,{for:"icon",className:"col-sm-12 text-left"},"Icon"),r.a.createElement(ie.a,{type:"file",name:"icon",onChange:this.input})),r.a.createElement(se.a,{className:"mb-3"},r.a.createElement(oe.a,{for:"altIcon",className:"col-sm-12 text-left"},"AltIcon"),r.a.createElement(ie.a,{type:"file",name:"altIcon",onChange:this.input})))),r.a.createElement(ue.a,null,r.a.createElement(te.a,{className:"pad-btn",onClick:this.saveSpecialWeapon},"Save"),r.a.createElement(te.a,{className:"pad-btn",onClick:this.props.hide},"Cancel")))}}]),t}(r.a.Component),fe=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={subWeaponID:"",name:"",icon:"",altIcon:""},a.saveSubWeapon=function(){A(a.state,"sub").then(function(e){return a.props.getResult({result:"Subweapon data added successfully",error:null,docId:e.docId})}).catch(function(e){return a.props.getResult({result:null,error:e,docId:null})}),a.props.hide()},a.input=function(e){a.setState(Object(ne.a)({},e.target.name,"icon"!==e.target.name&&"altIcon"!==e.target.name?e.target.value:e.target.files[0]))},a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return r.a.createElement("section",null,r.a.createElement(re.a,{className:"second-color"},this.props.title),r.a.createElement(ce.a,null,r.a.createElement(le.a,null,r.a.createElement(se.a,{className:"mb-3"},r.a.createElement(oe.a,{for:"subWeaponID",className:"col-sm-12 text-left"},"SubWeaponID"),r.a.createElement(ie.a,{type:"text",name:"subWeaponID",placeholder:"Enter subWeaponID",onChange:this.input})),r.a.createElement(se.a,{className:"mb-3"},r.a.createElement(oe.a,{for:"name",className:"col-sm-12 text-left"},"Name"),r.a.createElement(ie.a,{type:"text",name:"name",placeholder:"Enter subweapon name",onChange:this.input})),r.a.createElement(se.a,{className:"mb-3"},r.a.createElement(oe.a,{for:"icon",className:"col-sm-12 text-left"},"Icon"),r.a.createElement(ie.a,{type:"file",name:"icon",onChange:this.input})),r.a.createElement(se.a,{className:"mb-3"},r.a.createElement(oe.a,{for:"altIcon",className:"col-sm-12 text-left"},"AltIcon"),r.a.createElement(ie.a,{type:"file",name:"altIcon",onChange:this.input})))),r.a.createElement(ue.a,null,r.a.createElement(te.a,{className:"pad-btn",onClick:this.saveSubWeapon},"Save"),r.a.createElement(te.a,{className:"pad-btn",onClick:this.props.hide},"Cancel")))}}]),t}(r.a.Component),Ee=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={name:""},a.saveWeight=function(){A(a.state,"weight").then(function(e){return a.props.getResult({result:"Weapon weight data added successfully",error:null,docId:e.docId})}).catch(function(e){return a.props.getResult({result:null,error:e,docId:null})}),a.props.hide()},a.input=function(e){a.setState(Object(ne.a)({},e.target.name,e.target.value))},a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return r.a.createElement("section",null,r.a.createElement(re.a,{className:"second-color"},this.props.title),r.a.createElement(ce.a,null,r.a.createElement(le.a,null,r.a.createElement(se.a,{className:"mb-3"},r.a.createElement(oe.a,{for:"name",className:"col-sm-12 text-left"},"Weight name"),r.a.createElement(ie.a,{type:"text",name:"name",placeholder:"Enter weight name",onChange:this.input})))),r.a.createElement(ue.a,null,r.a.createElement(te.a,{className:"pad-btn",onClick:this.saveWeight},"Save"),r.a.createElement(te.a,{className:"pad-btn",onClick:this.props.hide},"Cancel")))}}]),t}(r.a.Component),ge=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={items:[]},a.select=function(e){"placeholder"!==e.target.value?M(a.props.collection,e.target.value).then(function(e){a.props.selection(Object(ne.a)({},a.props.collection,e))}).catch(function(e){a.props.selection(Object(ne.a)({},a.props.collection,null))}):a.props.selection(Object(ne.a)({},a.props.collection,null))},a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){var e=this;D(this.props.collection).then(function(t){e.setState({items:t})})}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(ie.a,{type:"select",onChange:this.select},r.a.createElement("option",{value:"placeholder"},"Select an item"),this.state.items.map(function(e){return r.a.createElement("option",{key:e.docId,value:e.docId},e.name)})))}}]),t}(r.a.Component),be=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={splatnetID:"",name:"",class:null,special:null,sub:null,weight:null},a.saveWeapon=function(){A(a.state,"weapon").then(function(e){return a.props.getResult({result:"Weapon data added successfully",error:null,docId:e.docId})}).catch(function(e){return a.props.getResult({result:null,error:e,docId:null})}),a.props.hide()},a.input=function(e){a.setState(Object(ne.a)({},e.target.name,"image"!==e.target.name&&"thumbnail"!==e.target.name?e.target.value:e.target.files[0]))},a.getSelection=function(e){a.setState(Object(C.a)({},e))},a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return r.a.createElement("section",null,r.a.createElement(re.a,{className:"second-color"},this.props.title),r.a.createElement(ce.a,null,r.a.createElement(le.a,null,r.a.createElement(se.a,{className:"mb-3"},r.a.createElement(oe.a,{for:"splatnetID",className:"col-sm-12 text-left"},"SplatNetID"),r.a.createElement(ie.a,{type:"text",name:"splatnetID",placeholder:"Enter SplatnetID",onChange:this.input})),r.a.createElement(se.a,{className:"mb-3"},r.a.createElement(oe.a,{for:"name",className:"col-sm-12 text-left"},"Name"),r.a.createElement(ie.a,{type:"text",name:"name",placeholder:"Enter weapon name",onChange:this.input})),r.a.createElement(se.a,null,r.a.createElement(oe.a,{className:"col-sm-12 text-left"},"Select a class"),r.a.createElement(ge,{collection:"class",selection:this.getSelection})),r.a.createElement(se.a,null,r.a.createElement(oe.a,{className:"col-sm-12 text-left"},"Select a special weapon"),r.a.createElement(ge,{collection:"special",selection:this.getSelection})),r.a.createElement(se.a,null,r.a.createElement(oe.a,{className:"col-sm-12 text-left"},"Select a subweapon"),r.a.createElement(ge,{collection:"sub",selection:this.getSelection})),r.a.createElement(se.a,null,r.a.createElement(oe.a,{className:"col-sm-12 text-left"},"Select a weapon weight"),r.a.createElement(ge,{collection:"weight",selection:this.getSelection})),r.a.createElement(se.a,{className:"mb-3"},r.a.createElement(oe.a,{for:"image",className:"col-sm-12 text-left"},"Image"),r.a.createElement(ie.a,{type:"file",name:"image",onChange:this.input})),r.a.createElement(se.a,{className:"mb-3"},r.a.createElement(oe.a,{for:"thumbnail",className:"col-sm-12 text-left"},"Thumbnail"),r.a.createElement(ie.a,{type:"file",name:"thumbnail",onChange:this.input})))),r.a.createElement(ue.a,null,r.a.createElement(te.a,{className:"pad-btn",onClick:this.saveWeapon},"Save"),r.a.createElement(te.a,{className:"pad-btn",onClick:this.props.hide},"Cancel")))}}]),t}(r.a.Component),ve=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={items:[]},a.select=function(e){a.props.selection(Object(ne.a)({},a.props.collection,"placeholder"!==e.target.value?e.target.value:null))},a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){var e=this;D(this.props.collection).then(function(t){e.setState({items:t})})}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(ie.a,{type:"select",onChange:this.select},r.a.createElement("option",{value:"placeholder"},"Select an item"),this.state.items.map(function(e){return r.a.createElement("option",{key:e.docId,value:e.name},e.name)})))}}]),t}(r.a.Component),Oe=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={avatar:"",username:"",stage:"",weapon:""},a.updateProfile=function(){U({profile:{avatar:a.state.avatar,username:a.state.username,favoriteWeapon:a.state.weapon,favoriteStage:a.state.stage}},"users",a.context.session.userId).then(function(e){return delete e.docId,a.context.updateSession(e)}).then(function(e){return a.props.getResult({result:"User profile updated successfully",error:null,docId:a.context.session.userId})}).catch(function(e){return a.props.getResult({result:null,error:e,docId:null})}),a.props.hide()},a.input=function(e){a.setState(Object(ne.a)({},e.target.name,"avatar"!==e.target.name?e.target.value:e.target.files[0]))},a.getSelection=function(e,t){a.setState(Object(C.a)({},e))},a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement(F.Consumer,null,function(t){t.session,t.updateSession;return r.a.createElement("section",null,r.a.createElement(re.a,{className:"second-color"},e.props.title),r.a.createElement(ce.a,null,r.a.createElement(le.a,null,r.a.createElement(se.a,{className:"mb-3"},r.a.createElement(oe.a,{for:"username",className:"col-sm-12 text-left"},"Username:"),r.a.createElement(ie.a,{type:"text",name:"username",placeholder:"Enter username",onChange:e.input})),r.a.createElement(se.a,{className:"mb-3"},r.a.createElement(oe.a,{className:"col-sm-12 text-left"},"Favorite Weapon"),r.a.createElement(ve,{collection:"weapon",selection:e.getSelection})),r.a.createElement(se.a,{className:"mb-3"},r.a.createElement(oe.a,{className:"col-sm-12 text-left"},"Favorite Stage"),r.a.createElement(ve,{collection:"stage",selection:e.getSelection})),r.a.createElement(se.a,{className:"mb-3"},r.a.createElement(oe.a,{for:"avatar",className:"col-sm-12 text-left"},"Avatar"),r.a.createElement(ie.a,{type:"file",name:"avatar",onChange:e.input})))),r.a.createElement(ue.a,null,r.a.createElement(te.a,{className:"pad-btn",onClick:e.updateProfile},"Save"),r.a.createElement(te.a,{className:"pad-btn",onClick:e.props.hide},"Cancel")))})}}]),t}(r.a.Component);Oe.contextType=F;var je=Oe,ye=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,c=new Array(n),l=0;l<n;l++)c[l]=arguments[l];return(a=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(c)))).state={isOpen:!1},a.toggle=function(){a.setState({isOpen:!a.state.isOpen})},a.getForm=function(){var e;switch(a.props.operation){case"stage":e=r.a.createElement(me,{title:a.props.title,getResult:a.props.getResult,hide:a.toggle});break;case"weaponClass":e=r.a.createElement(pe,{title:a.props.title,getResult:a.props.getResult,hide:a.toggle});break;case"gameMode":e=r.a.createElement(he,{title:a.props.title,getResult:a.props.getResult,hide:a.toggle});break;case"specialWeapon":e=r.a.createElement(de,{title:a.props.title,getResult:a.props.getResult,hide:a.toggle});break;case"subWeapon":e=r.a.createElement(fe,{title:a.props.title,getResult:a.props.getResult,hide:a.toggle});break;case"weight":e=r.a.createElement(Ee,{title:a.props.title,getResult:a.props.getResult,hide:a.toggle});break;case"weapon":e=r.a.createElement(be,{title:a.props.title,getResult:a.props.getResult,hide:a.toggle});break;case"userProfile":e=r.a.createElement(je,{title:a.props.title,getResult:a.props.getResult,hide:a.toggle})}return e},a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this.getForm();return r.a.createElement("section",null,r.a.createElement(te.a,{className:"header pad-btn",onClick:this.toggle},this.props.title),r.a.createElement(ae.a,{isOpen:this.state.isOpen,toggle:this.toggle},e))}}]),t}(r.a.Component),Ne=a(261),Se=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={visible:!1},a.onDismiss=function(){a.setState(function(e){return{visible:!e.visible}})},a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"componentDidUpdate",value:function(e){e.data!==this.props.data&&(this.props.data.error||this.props.data.result)&&this.setState({visible:!0})}},{key:"render",value:function(){return this.props.data&&r.a.createElement(Ne.a,{className:"col-sm-12",color:this.props.data.error?"danger":"success",isOpen:this.state.visible,toggle:this.onDismiss},this.props.data.error?this.props.data.error:this.props.data.result)}}]),t}(r.a.Component),Ie=function(e,t){var a=function(a){function n(){var e,a;Object(s.a)(this,n);for(var r=arguments.length,c=new Array(r),l=0;l<r;l++)c[l]=arguments[l];return(a=Object(i.a)(this,(e=Object(u.a)(n)).call.apply(e,[this].concat(c)))).findPermission=function(e){return e.findIndex(function(e){return e.docId===t})>-1},a}return Object(m.a)(n,a),Object(o.a)(n,[{key:"componentDidMount",value:function(){var e=JSON.parse(localStorage.getItem("session"));e&&e.userId?this.findPermission(e.permissions,t)||this.props.history.push("/unauthorized"):this.props.history.push("/login")}},{key:"render",value:function(){return r.a.createElement(e,this.props)}}]),n}(r.a.Component);return Object(f.e)(a)},ke=a(263),we=a(264),Ce=a(9),xe=a.n(Ce),Re=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).select=function(e){a.props.selection({result:"placeholder"!==e.target.value?e.target.value:null})},a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(ie.a,{type:"select",onChange:this.select},r.a.createElement("option",{value:"placeholder"},"Select an item"),r.a.createElement("option",{key:"win",value:!0},"Win"),r.a.createElement("option",{key:"lose",value:!1},"Lose")))}}]),t}(r.a.Component),We=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={mode:null,stage:null,weapon:null,result:null},a.saveResult=function(){if(!a.checkFormData())return a.props.getResult({result:null,error:"Error: battle info form is missing required values",docId:null});B("battle",a.props.userId,{battles:k.firestore.FieldValue.arrayUnion(Object(C.a)({},a.state,{date:(new Date).toISOString()}))}).then(function(e){return a.props.getResult({result:"Battle data added successfully",error:null,docId:(new Date).toISOString()})}).catch(function(e){return a.props.getResult({result:null,error:e,docId:null})})},a.input=function(e){a.setState(Object(ne.a)({},e.target.name,"image"!==e.target.name&&"thumbnail"!==e.target.name?e.target.value:e.target.files[0]))},a.getSelection=function(e){a.setState(Object(C.a)({},e))},a.checkFormData=function(){for(var e in a.state)if(null===a.state[e])return!1;return!0},a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return r.a.createElement("section",{className:"col-sm-12"},r.a.createElement(le.a,{className:"row"},r.a.createElement(se.a,{className:"mb-3 col-sm-12 col-md-4"},r.a.createElement(oe.a,{className:"col-sm-12 text-left"},"Played Game Mode"),r.a.createElement(ge,{collection:"mode",selection:this.getSelection})),r.a.createElement(se.a,{className:"mb-3 col-sm-12 col-md-4"},r.a.createElement(oe.a,{className:"col-sm-12 text-left"},"Played Stage"),r.a.createElement(ge,{collection:"stage",selection:this.getSelection})),r.a.createElement(se.a,{className:"mb-3 col-sm-12 col-md-4"},r.a.createElement(oe.a,{className:"col-sm-12 text-left"},"Used Weapon"),r.a.createElement(ge,{collection:"weapon",selection:this.getSelection})),r.a.createElement(se.a,{className:"mb-3 col-sm-12 col-md-4"},r.a.createElement(oe.a,{className:"col-sm-12 text-left"},"Battle Result"),r.a.createElement(Re,{selection:this.getSelection})),r.a.createElement(se.a,{className:"col-sm-12"},r.a.createElement(te.a,{className:"pad-btn",onClick:this.saveResult},"Save"))))}}]),t}(r.a.Component),De=a(262),Me=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={battles:[],error:null},a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){var e=this;M("battle",this.props.userId).then(function(t){e.setState({battles:t.battles})}).catch(function(t){e.setState({error:t})})}},{key:"componentDidUpdate",value:function(e){var t=this;this.props.append!==e.append&&this.props.append&&M("battle",this.props.userId).then(function(e){t.setState({battles:e.battles})}).catch(function(e){t.setState({error:e})})}},{key:"render",value:function(){return this.state.error?r.a.createElement("section",{className:"col-sm-12"},r.a.createElement("h2",null,this.state.error)):r.a.createElement("section",{className:"col-sm-12"},r.a.createElement(De.a,{dark:!0,responsive:!0,className:"text-center"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Played Game Mode"),r.a.createElement("th",null,"Played Stage"),r.a.createElement("th",null,"Used Weapon"),r.a.createElement("th",null,"Result"))),r.a.createElement("tbody",null,this.state.battles.map(function(e){return r.a.createElement("tr",{key:e.date},r.a.createElement("td",null,e.mode.name),r.a.createElement("td",null,e.stage.name),r.a.createElement("td",null,e.weapon.name),r.a.createElement("td",null,"true"===e.result?"Win":"Lose"))}))))}}]),t}(r.a.Component),Ae=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={activeTab:"BattleInfo",docId:null},a.toggle=function(e){a.state.activeTab!==e&&a.setState({activeTab:e})},a.appendResult=function(e){a.setState({docId:e.docId},function(){a.props.getResult(e)})},a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement(F.Consumer,null,function(t){var a=t.session;return r.a.createElement("div",{className:"mt-3"},r.a.createElement(N.a,{tabs:!0},r.a.createElement(S.a,null,r.a.createElement(I.a,{className:xe()({active:"BattleInfo"===e.state.activeTab}),onClick:function(){e.toggle("BattleInfo")}},"Register Battle Info")),r.a.createElement(S.a,null,r.a.createElement(I.a,{className:xe()({active:"BattleResults"===e.state.activeTab}),onClick:function(){e.toggle("BattleResults")}},"Battles Results"))),r.a.createElement(ke.a,{className:"tab-body",activeTab:e.state.activeTab},r.a.createElement(we.a,{tabId:"BattleInfo"},r.a.createElement(ee.a,null,r.a.createElement(We,{userId:a.userId,getResult:e.appendResult}))),r.a.createElement(we.a,{tabId:"BattleResults"},r.a.createElement(ee.a,null,r.a.createElement(Me,{userId:a.userId,append:null!==e.state.docId&&e.state.docId})))))})}}]),t}(r.a.Component);We.contextType=F;var Ue=K(Ae),Pe=Ie(function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={result:null,error:null,docId:null},a.getResult=function(e){a.setState(Object(C.a)({},e))},a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("section",null,r.a.createElement(Se,{data:this.state}),r.a.createElement(F.Consumer,null,function(t){var a=t.session;t.updateSession;return r.a.createElement("article",{className:"feature"},r.a.createElement(ee.a,null,r.a.createElement("section",{className:"col-sm-12 col-md-4 d-flex justify-content-center spacing"},r.a.createElement("img",{className:"profile-img",src:a.profile.avatar,alt:"placeholder"})),r.a.createElement("section",{className:"col-sm-12 col-md-8 d-flex justify-content-center align-items-center flex-wrap spacing"},r.a.createElement("section",{className:"d-flex flex-wrap justify-content-center mb-3"},r.a.createElement("h2",{className:"mr-3 ml-3"},"User Profile"),r.a.createElement(ye,{title:"Edit",getResult:e.getResult,operation:"userProfile"})),r.a.createElement("h3",{className:"col-sm-12 text-center"},"Username: ",a.profile.username),r.a.createElement("h3",{className:"col-sm-12 text-center"},"Favorite weapon:"," ",a.profile.favoriteWeapon?a.profile.favoriteWeapon:"not set"),r.a.createElement("h3",{className:"col-sm-12 text-center"},"Favorite stage:"," ",a.profile.favoriteStage?a.profile.favoriteStage:"not set"))))}),r.a.createElement(Ue,{operation:"USR-002",getResult:this.getResult}))}}]),t}(r.a.Component),"USR-001"),Te=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={mail:"",pass:""},a.input=function(e){a.setState(Object(ne.a)({},e.target.name,e.target.value))},a.login=function(e){w.auth().signInWithEmailAndPassword(a.state.mail,a.state.pass).then(function(e){return a.context.initSession(e.user)}).then(function(){return a.props.history.push(b)}).catch(function(e){a.props.getResult({result:null,error:"Incorrect mail or password"})})},a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement(F.Consumer,null,function(t){t.session,t.updateSession,t.clearSession,t.initSession;return r.a.createElement("section",null,r.a.createElement(le.a,null,r.a.createElement(se.a,{className:"mb-3"},r.a.createElement(oe.a,{for:"mail",className:"col-sm-12 text-left"},"Mail"),r.a.createElement(ie.a,{type:"email",name:"mail",onChange:e.input})),r.a.createElement(se.a,{className:"mb-3"},r.a.createElement(oe.a,{for:"pass",className:"col-sm-12 text-left"},"Password"),r.a.createElement(ie.a,{type:"password",name:"pass",onChange:e.input})),r.a.createElement(te.a,{className:"pad-btn",onClick:e.login},"Login")),r.a.createElement("h4",{className:"text-center mt-3 mb-0"},"Don't have an account? Create one,"," ",r.a.createElement(d.b,{to:"/register",className:"highlight"},"here")))})}}]),t}(r.a.Component);Te.contextType=F;var Ge=Object(f.e)(Te),Be=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={result:null,error:null},a.getResult=function(e){a.setState(Object(C.a)({},e))},a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return r.a.createElement("section",null,r.a.createElement("h1",{className:"header"},"Login"),r.a.createElement(Se,{data:this.state}),r.a.createElement(Ge,{getResult:this.getResult}))}}]),t}(r.a.Component),Fe=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={username:"",mail:"",pass:"",confirmPass:"",error:null},a.input=function(e){a.setState(Object(ne.a)({},e.target.name,e.target.value))},a.signUp=function(e){w.auth().createUserWithEmailAndPassword(a.state.mail,a.state.pass).then(function(e){return a.initNewUser(e.user)}).then(function(){a.props.history.push(b)}).catch(function(e){a.props.getResult({result:null,error:e.message})}),e.preventDefault()},a.initNewUser=function(e){return M("users","default").then(function(e){return e.permissions}).then(function(e){return G("users",a.state.mail,{profile:{username:a.state.username,avatar:null,favoriteWeapon:null,favoriteStage:null},permissions:e})}).then(function(e){return a.context.updateSession({userId:e.docId,profile:e.profile,permissions:e.permissions})}).then(function(){return G("battle",a.state.mail,{battles:[]})}).catch(function(e){return{message:"Error while registering new user - ".concat(e.message)}})},a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement(F.Consumer,null,function(t){t.session,t.updateSession;return r.a.createElement(le.a,null,r.a.createElement(se.a,{className:"mb-3"},r.a.createElement(oe.a,{for:"username",className:"col-sm-12 text-left"},"Username"),r.a.createElement(ie.a,{type:"text",name:"username",onChange:e.input})),r.a.createElement(se.a,{className:"mb-3"},r.a.createElement(oe.a,{for:"mail",className:"col-sm-12 text-left"},"Mail"),r.a.createElement(ie.a,{type:"email",name:"mail",onChange:e.input})),r.a.createElement(se.a,{className:"mb-3"},r.a.createElement(oe.a,{for:"pass",className:"col-sm-12 text-left"},"Password"),r.a.createElement(ie.a,{type:"password",name:"pass",onChange:e.input})),r.a.createElement(se.a,{className:"mb-3"},r.a.createElement(oe.a,{for:"confirmPass",className:"col-sm-12 text-left"},"Confirm password"),r.a.createElement(ie.a,{type:"password",name:"confirmPass",onChange:e.input})),r.a.createElement(te.a,{className:"pad-btn",onClick:e.signUp},"Sign Up"))})}}]),t}(r.a.Component);Fe.contextType=F;var Le=Object(f.e)(Fe),ze=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={result:null,error:null},a.getResult=function(e){a.setState(Object(C.a)({},e))},a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return r.a.createElement("section",null,r.a.createElement("h1",{className:"header"},"Sign Up"),r.a.createElement(Se,{data:this.state}),r.a.createElement(Le,{getResult:this.getResult}))}}]),t}(r.a.Component),Je=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).mounted=!0,a.state={classes:[],error:null},a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){var e=this;D("class").then(function(t){e.mounted&&e.setState({classes:t})}).catch(function(t){e.mounted&&e.setState({error:t})})}},{key:"componentDidUpdate",value:function(e){var t=this;this.props.append!==e.append&&this.props.append&&D("class").then(function(e){t.setState({classes:e})}).catch(function(e){t.setState({error:e})})}},{key:"componentWillUnmount",value:function(){this.mounted=!1}},{key:"render",value:function(){return this.state.error?r.a.createElement("section",{className:"col-sm-12"},r.a.createElement("h2",null,this.state.error)):r.a.createElement("section",{className:"col-sm-12"},r.a.createElement(De.a,{dark:!0,hover:!0,responsive:!0},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Class name"))),r.a.createElement("tbody",null,this.state.classes.map(function(e){return r.a.createElement("tr",{key:e.docId},r.a.createElement("td",null,e.name))}))))}}]),t}(r.a.Component),Ve=Ie(function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={result:null,error:null,docId:null},a.getResult=function(e){a.setState(Object(C.a)({},e))},a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return r.a.createElement(ee.a,null,r.a.createElement(Se,{data:this.state}),r.a.createElement("section",{className:"col-sm-12 d-flex flex-wrap"},r.a.createElement("h2",{className:"mr-3 header"},"Weapon classes management"),r.a.createElement(ye,{title:"Add new weapon class",getResult:this.getResult,operation:"weaponClass"})),r.a.createElement(Je,{append:null!==this.state.docId&&this.state.docId}))}}]),t}(r.a.Component),"MGT-001"),qe=function(e){return e.gameMode&&r.a.createElement("article",{className:"text-center"},r.a.createElement("h2",{className:"col-sm-12"},e.gameMode.name),r.a.createElement("section",{className:"d-flex justify-content-center"},r.a.createElement("img",{src:e.gameMode.thumbnail,alt:e.gameMode.name})))},Ke=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={gameModes:[],error:null,selectedGameMode:null},a.selectedGameMode=function(e){a.setState({selectedGameMode:e})},a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){var e=this;D("mode").then(function(t){e.setState({gameModes:t})}).catch(function(t){e.setState({error:t})})}},{key:"componentDidUpdate",value:function(e){var t=this;this.props.append!==e.append&&this.props.append&&D("mode").then(function(e){t.setState({gameModes:e})}).catch(function(e){t.setState({error:e})})}},{key:"render",value:function(){var e=this;return this.state.error?r.a.createElement("section",{className:"col-sm-12"},r.a.createElement("h2",null,this.state.error)):r.a.createElement("section",{className:"col-sm-12"},r.a.createElement(De.a,{dark:!0,hover:!0,responsive:!0},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"GameModeID"),r.a.createElement("th",null,"Name"))),r.a.createElement("tbody",null,this.state.gameModes.map(function(t){return r.a.createElement("tr",{key:t.docId,onClick:function(){return e.selectedGameMode(t)}},r.a.createElement("td",null,t.gameModeID),r.a.createElement("td",null,t.name))}))),r.a.createElement(qe,{gameMode:this.state.selectedGameMode}))}}]),t}(r.a.Component),Qe=Ie(function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={result:null,error:null,docId:null},a.getResult=function(e){a.setState(Object(C.a)({},e))},a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return r.a.createElement(ee.a,null,r.a.createElement(Se,{data:this.state}),r.a.createElement("section",{className:"col-sm-12 d-flex flex-wrap"},r.a.createElement("h2",{className:"mr-3 header"},"Game modes management"),r.a.createElement(ye,{title:"Add new game mode",getResult:this.getResult,operation:"gameMode"})),r.a.createElement(Ke,{append:null!==this.state.docId&&this.state.docId}))}}]),t}(r.a.Component),"MGT-002"),Ye=function(e){return e.specialWeapon&&r.a.createElement("article",{className:"text-center"},r.a.createElement("h2",{className:"col-sm-12"},e.specialWeapon.name),r.a.createElement("section",{className:"d-flex justify-content-center"},r.a.createElement("img",{src:e.specialWeapon.icon,alt:e.specialWeapon.name}),r.a.createElement("img",{src:e.specialWeapon.altIcon,alt:"".concat(e.specialWeapon.name," - alt")})))},$e=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={specialWeapons:[],error:null,selectedSpecialWeapon:null},a.selectedSpecialWeapon=function(e){a.setState({selectedSpecialWeapon:e})},a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){var e=this;D("special").then(function(t){e.setState({specialWeapons:t})}).catch(function(t){e.setState({error:t})})}},{key:"componentDidUpdate",value:function(e){var t=this;this.props.append!==e.append&&this.props.append&&D("special").then(function(e){t.setState({specialWeapons:e})}).catch(function(e){t.setState({error:e})})}},{key:"render",value:function(){var e=this;return this.state.error?r.a.createElement("section",{className:"col-sm-12"},r.a.createElement("h2",null,this.state.error)):r.a.createElement("section",{className:"col-sm-12"},r.a.createElement(De.a,{dark:!0,hover:!0,responsive:!0},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"SpecialWeaponID"),r.a.createElement("th",null,"Name"))),r.a.createElement("tbody",null,this.state.specialWeapons.map(function(t){return r.a.createElement("tr",{key:t.docId,onClick:function(){return e.selectedSpecialWeapon(t)}},r.a.createElement("td",null,t.specialWeaponID),r.a.createElement("td",null,t.name))}))),r.a.createElement(Ye,{specialWeapon:this.state.selectedSpecialWeapon}))}}]),t}(r.a.Component),He=Ie(function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={result:null,error:null,docId:null},a.getResult=function(e){a.setState(Object(C.a)({},e))},a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return r.a.createElement(ee.a,null,r.a.createElement(Se,{data:this.state}),r.a.createElement("section",{className:"col-sm-12 d-flex flex-wrap"},r.a.createElement("h2",{className:"mr-3 header"},"Special weapons management"),r.a.createElement(ye,{title:"Add new special weapon",getResult:this.getResult,operation:"specialWeapon"})),r.a.createElement($e,{append:null!==this.state.docId&&this.state.docId}))}}]),t}(r.a.Component),"MGT-003"),Xe=function(e){return e.stage&&r.a.createElement("article",{className:"text-center"},r.a.createElement("h2",{className:"col-sm-12"},e.stage.name),r.a.createElement("section",{className:"d-flex justify-content-center"},r.a.createElement("img",{src:e.stage.thumbnail,alt:e.stage.name})))},Ze=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={stages:[],error:null,selectedStage:null},a.selectedStage=function(e){a.setState({selectedStage:e})},a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){var e=this;D("stage").then(function(t){e.setState({stages:t})}).catch(function(t){e.setState({error:t})})}},{key:"componentDidUpdate",value:function(e){var t=this;this.props.append!==e.append&&this.props.append&&D("stage").then(function(e){t.setState({stages:e})}).catch(function(e){t.setState({error:e})})}},{key:"render",value:function(){var e=this;return this.state.error?r.a.createElement("section",{className:"col-sm-12"},r.a.createElement("h2",null,this.state.error)):r.a.createElement("section",{className:"col-sm-12"},r.a.createElement(De.a,{dark:!0,hover:!0,responsive:!0},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"SplatNetID"),r.a.createElement("th",null,"Stage name"))),r.a.createElement("tbody",null,this.state.stages.map(function(t){return r.a.createElement("tr",{key:t.docId,onClick:function(){return e.selectedStage(t)}},r.a.createElement("td",null,t.splatnetID),r.a.createElement("td",null,t.name))}))),r.a.createElement(Xe,{stage:this.state.selectedStage}))}}]),t}(r.a.Component),_e=Ie(function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={result:null,error:null,docId:null},a.getResult=function(e){a.setState(Object(C.a)({},e))},a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return r.a.createElement(ee.a,null,r.a.createElement(Se,{data:this.state}),r.a.createElement("section",{className:"col-sm-12 d-flex flex-wrap"},r.a.createElement("h2",{className:"mr-3 header"},"Stages management"),r.a.createElement(ye,{title:"Add new stage",getResult:this.getResult,operation:"stage"})),r.a.createElement(Ze,{append:null!==this.state.docId&&this.state.docId}))}}]),t}(r.a.Component),"MGT-004"),et=function(e){return e.subWeapon&&r.a.createElement("article",{className:"text-center"},r.a.createElement("h2",{className:"col-sm-12"},e.subWeapon.name),r.a.createElement("section",{className:"d-flex justify-content-center"},r.a.createElement("img",{src:e.subWeapon.icon,alt:e.subWeapon.name}),r.a.createElement("img",{src:e.subWeapon.altIcon,alt:"".concat(e.subWeapon.name," - alt")})))},tt=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={subWeapons:[],error:null,selectedSubWeapon:null},a.selectedSubWeapon=function(e){a.setState({selectedSubWeapon:e})},a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){var e=this;D("sub").then(function(t){e.setState({subWeapons:t})}).catch(function(t){e.setState({error:t})})}},{key:"componentDidUpdate",value:function(e){var t=this;this.props.append!==e.append&&this.props.append&&D("sub").then(function(e){t.setState({subWeapons:e})}).catch(function(e){t.setState({error:e})})}},{key:"render",value:function(){var e=this;return this.state.error?r.a.createElement("section",{className:"col-sm-12"},r.a.createElement("h2",null,this.state.error)):r.a.createElement("section",{className:"col-sm-12"},r.a.createElement(De.a,{dark:!0,hover:!0,responsive:!0},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"SubWeaponID"),r.a.createElement("th",null,"Name"))),r.a.createElement("tbody",null,this.state.subWeapons.map(function(t){return r.a.createElement("tr",{key:t.docId,onClick:function(){return e.selectedSubWeapon(t)}},r.a.createElement("td",null,t.subWeaponID),r.a.createElement("td",null,t.name))}))),r.a.createElement(et,{subWeapon:this.state.selectedSubWeapon}))}}]),t}(r.a.Component),at=Ie(function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={result:null,error:null,docId:null},a.getResult=function(e){a.setState(Object(C.a)({},e))},a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return r.a.createElement(ee.a,null,r.a.createElement(Se,{data:this.state}),r.a.createElement("section",{className:"col-sm-12 d-flex flex-wrap"},r.a.createElement("h2",{className:"mr-3 header"},"Subweapons management"),r.a.createElement(ye,{title:"Add new subweapon",getResult:this.getResult,operation:"subWeapon"})),r.a.createElement(tt,{append:null!==this.state.docId&&this.state.docId}))}}]),t}(r.a.Component),"MGT-005"),nt=function(e){return e.weapon&&r.a.createElement("article",{className:"text-center"},r.a.createElement("h2",{className:"col-sm-12"},e.weapon.name),r.a.createElement("section",{className:"d-flex justify-content-center"},r.a.createElement("img",{src:e.weapon.image,alt:e.weapon.name}),r.a.createElement("img",{src:e.weapon.thumbnail,alt:"".concat(e.weapon.name,"Thumb")})))},rt=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={weapons:[],error:null,selectedWeapon:null},a.getData=function(){D("weapon").then(function(e){a.setState({weapons:e})}).catch(function(e){a.setState({error:e})})},a.selectedWeapon=function(e){a.setState({selectedWeapon:e})},a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){this.getData()}},{key:"componentDidUpdate",value:function(e){this.props.append!==e.append&&this.props.append&&this.getData()}},{key:"render",value:function(){var e=this;return this.state.error?r.a.createElement("section",{className:"col-sm-12"},r.a.createElement("h2",null,this.state.error)):r.a.createElement("section",{className:"col-sm-12"},r.a.createElement(De.a,{dark:!0,hover:!0,responsive:!0},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"SplatNetID"),r.a.createElement("th",null,"Name"))),r.a.createElement("tbody",null,this.state.weapons.map(function(t){return r.a.createElement("tr",{key:t.docId,onClick:function(){return e.selectedWeapon(t)}},r.a.createElement("td",null,t.splatnetID),r.a.createElement("td",null,t.name))}))),r.a.createElement(nt,{weapon:this.state.selectedWeapon}))}}]),t}(r.a.Component),ct=Ie(function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={result:null,error:null,docId:null},a.getResult=function(e){a.setState(Object(C.a)({},e))},a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return r.a.createElement(ee.a,null,r.a.createElement(Se,{data:this.state}),r.a.createElement("section",{className:"col-sm-12 d-flex flex-wrap"},r.a.createElement("h2",{className:"mr-3 header"},"Weapon management"),r.a.createElement(ye,{title:"Add new weapon",getResult:this.getResult,operation:"weapon"})),r.a.createElement(rt,{append:null!==this.state.docId&&this.state.docId}))}}]),t}(r.a.Component),"MGT-006"),lt=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={weights:[],error:null},a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){var e=this;D("weight").then(function(t){e.setState({weights:t})}).catch(function(t){e.setState({error:t})})}},{key:"componentDidUpdate",value:function(e){var t=this;this.props.append!==e.append&&this.props.append&&D("weight").then(function(e){t.setState({weights:e})}).catch(function(e){t.setState({error:e})})}},{key:"render",value:function(){return this.state.error?r.a.createElement("section",{className:"col-sm-12"},r.a.createElement("h2",null,this.state.error)):r.a.createElement("section",{className:"col-sm-12"},r.a.createElement(De.a,{dark:!0,hover:!0,responsive:!0},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Weight name"))),r.a.createElement("tbody",null,this.state.weights.map(function(e){return r.a.createElement("tr",{key:e.docId},r.a.createElement("td",null,e.name))}))))}}]),t}(r.a.Component),st=Ie(function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={result:null,error:null,docId:null},a.getResult=function(e){a.setState(Object(C.a)({},e))},a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return r.a.createElement(ee.a,null,r.a.createElement(Se,{data:this.state}),r.a.createElement("section",{className:"col-sm-12 d-flex flex-wrap"},r.a.createElement("h2",{className:"mr-3 header"},"Weapon weights management"),r.a.createElement(ye,{title:"Add new weapon weight",getResult:this.getResult,operation:"weight"})),r.a.createElement(lt,{append:null!==this.state.docId&&this.state.docId}))}}]),t}(r.a.Component),"MGT-007"),ot=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={items:[]},a.select=function(e){a.props.selection(Object(ne.a)({},a.props.collection,"placeholder"!==e.target.value?e.target.value:null))},a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){var e=this;D(this.props.collection).then(function(t){e.setState({items:t})})}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(ie.a,{type:"select",onChange:this.select},r.a.createElement("option",{value:"placeholder"},"Select an item"),this.state.items.map(function(e){return r.a.createElement("option",{key:e.docId,value:e.docId},e.docId)})))}}]),t}(r.a.Component),it=a(125),ut=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={operations:[],userOperations:null,error:null},a.checkUserOps=function(e){return!(!a.state.userOperations||!a.state.userOperations.find(function(t){return t.docId===e}))},a.selection=function(e){var t=e.target.id;a.checkUserOps(e.target.id)?a.setState(function(e){return{userOperations:e.userOperations.filter(function(e){return e.docId!==t})}}):a.setState(function(e){return{userOperations:[].concat(Object(it.a)(e.userOperations),[{docId:t}])}})},a.save=function(){B("users",a.props.user,{permissions:a.state.userOperations}).then(function(e){return a.props.getResult({result:"".concat(e.docId," permissions were successfully updated"),error:null,docId:e.docId})}).catch(function(e){return a.props.getResult({result:null,error:e,docId:null})})},a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){var e=this;D("operations").then(function(t){e.setState({operations:t})}).catch(function(t){e.setState({error:t})})}},{key:"componentDidUpdate",value:function(e){var t=this;this.props.user!==e.user&&this.props.user&&M("users",this.props.user).then(function(e){t.setState({userOperations:e.permissions})}).catch(function(e){t.setState({error:e})})}},{key:"render",value:function(){var e=this;return this.state.error?r.a.createElement("section",{className:"col-sm-12"},r.a.createElement("h2",null,this.state.error)):r.a.createElement(De.a,{dark:!0,hover:!0,responsive:!0,className:"col-sm-8"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",{className:"text-center"},"Operations"))),r.a.createElement("tbody",null,this.state.operations.map(function(t){return r.a.createElement("tr",{key:t.docId},r.a.createElement("td",{className:"text-center"},r.a.createElement(oe.a,null,t.desc)),r.a.createElement("td",{className:"custom-control custom-switch"},r.a.createElement(ie.a,{type:"checkbox",className:"custom-control-input",id:t.docId,disabled:!e.props.user,onChange:e.selection,checked:e.checkUserOps(t.docId)}),r.a.createElement(oe.a,{className:"custom-control-label",for:t.docId})))}),r.a.createElement("tr",null,r.a.createElement("td",{colSpan:"2",className:"text-center"},r.a.createElement(te.a,{className:"pad-btn",onClick:this.save,disabled:!this.props.user},"Save")))))}}]),t}(r.a.Component),mt=Ie(function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={result:null,error:null,docId:null},a.getResult=function(e){a.setState(Object(C.a)({},e))},a.getSelection=function(e){a.setState({docId:e.users,result:null,error:null})},a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return r.a.createElement(ee.a,null,r.a.createElement(Se,{data:{result:this.state.result,error:this.state.error}}),r.a.createElement("section",{className:"col-sm-12 d-flex flex-wrap"},r.a.createElement("h2",{className:"mr-3 header"},"Users and Access control")),r.a.createElement("section",{className:"col-sm-12 d-flex flex-wrap justify-content-center header"},r.a.createElement(oe.a,{className:"mr-3 mt-1"},"Selected user:"),r.a.createElement(ot,{collection:"users",selection:this.getSelection})),r.a.createElement(ut,{user:this.state.docId,getResult:this.getResult}))}}]),t}(r.a.Component),"UAC-001");h.a.config();var pt=function(e){function t(){return Object(s.a)(this,t),Object(i.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return r.a.createElement(z,null,r.a.createElement("main",null,r.a.createElement(d.a,null,r.a.createElement(_,null),r.a.createElement(E.a,{className:"main-container"},r.a.createElement("h2",{className:"header text-center"},"CN--Pearl"),r.a.createElement(f.c,null,r.a.createElement(f.a,{path:g,exact:!0,component:ht}),r.a.createElement(f.a,{path:"/login",component:Be}),r.a.createElement(f.a,{path:"/register",component:ze}),r.a.createElement(f.a,{path:b,exact:!0,component:Pe}),r.a.createElement(f.a,{path:"/manage/classes",component:Ve}),r.a.createElement(f.a,{path:"/manage/modes",component:Qe}),r.a.createElement(f.a,{path:"/manage/specials",component:He}),r.a.createElement(f.a,{path:"/manage/stages",component:_e}),r.a.createElement(f.a,{path:"/manage/subs",component:at}),r.a.createElement(f.a,{path:"/manage/weapons",component:ct}),r.a.createElement(f.a,{path:"/manage/weights",component:st}),r.a.createElement(f.a,{path:v,component:mt}),r.a.createElement(f.a,{path:"/unauthorized",component:ft}),r.a.createElement(f.a,{component:dt}))))))}}]),t}(r.a.Component),ht=function(){return r.a.createElement("h3",{className:"text-center"},"CN--Pearl is a battle result tracker for Splatoon 2. Register the results from your games and discover the most appropiate set to bring to the battlefield based on the game mode and scenario you are currently in.")},dt=function(){return r.a.createElement("h2",{className:"text-center"},"The content you are looking for is not here... \u304f\u30b3:\u5f61")},ft=function(){return r.a.createElement("h2",{className:"text-center"},"You are not authorized to see this content... \u304f\u30b3:\u5f61")},Et=pt;Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(243);l.a.render(r.a.createElement(Et,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},84:function(e,t,a){var n=a(48);function r(e){var t=[],a=function(a){e[a]instanceof n.firestore.DocumentReference?t.push(e[a].get().then(function(t){e[a]=t.data()}).catch(function(t){e[a]={error:"Backend - ".concat(t)}})):e[a]instanceof Array&&t.push(function(e){var t=[];return e.forEach(function(e){e instanceof n.firestore.DocumentReference?t.push(e.get().then(function(t){var a=t.data();return a.docId=e.id,a}).catch(function(e){return{error:"Backend - ".concat(e)}})):t.push(e)}),Promise.all(t).then(function(e){return e})}(e[a]).then(function(t){return e[a]=t}))};for(var r in e)a(r);return Promise.all(t).then(function(t){return e})}t.getSingleResult=function(e){var t=e.data();if(t)return r(t).then(function(a){return t.docId=e.id,a});throw new Error("No data exists for given id (".concat(e.id,")"))},t.getMultiResult=function(e){var t,a=[];return e.forEach(function(e){e.id&&(t=e.data(),a.push(r(t).then(function(t){return t.docId=e.id,t}).catch(function(e){return{error:"Backend - ".concat(e)}})))}),Promise.all(a).then(function(e){return e})}}},[[126,1,2]]]);
//# sourceMappingURL=main.6ec98791.chunk.js.map